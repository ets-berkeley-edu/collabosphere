# SuiteC

SuiteC is a collection of Instructure Canvas Basic LTI tools, allowing for innovative functionality to be added to any course site:

#### Asset Library

The Asset Library is a place where students and instructors can collect relevant materials for the course. The materials can  be seen by the other students in the class and can be discussed, liked, disliked, etc.

#### Whiteboarding Tool

The Whiteboarding Tool allows for students to collaboratively work on whiteboards. Whiteboards can be used to remix assets from the Asset Library, create mindmaps, provide feedback, etc.

#### Engagement Index

The Engagement Index provides a leaderboard based on the student's activity in the course. The Engagement Index will record activities such as discussion posts, likes, comments, etc.

## Development Environment

Note: this documentation is currently limited to OS X.

### PostgresSQL

SuiteC uses [PostgreSQL](http://www.postgresql.org). Set up the required database and users:

```
# Update Homebrew
brew update

# Install postgres
brew install postgresql

# Start postgres
postgres -D /usr/local/var/postgres

# Create a database and user
createuser collabosphere --no-createdb --no-superuser --no-createrole --pwprompt

Enter password for new role:  collabosphere
Enter it again:  collabosphere

createdb collabosphere --owner=collabosphere
createdb collabospheretest --owner=collabosphere
```

### SuiteC

Install and start SuiteC:

```
# Clone the SuiteC codebase
git clone git://github.com/ets-berkeley-edu/collabosphere.git
```

# Dependencies

## Packages

Ensure you have the following packages installed and available in your `$PATH`:

 * [Node.js](http://nodejs.org)
 * NPM
 * Cairo and all its dependencies. On RHEL systems the following packages have to be installed:
   - cairo
   - cairo-devel
   - cairomm-devel
   - libjpeg-turbo-devel
   - pango
   - pango-devel
   - pangomm
   - pangomm-devel
   - giflib-devel

   Check out [the node-canvas installation wiki](https://github.com/Automattic/node-canvas/wiki/Installation---Fedora) for more information.

##Â Node modules

**Optional:** Set explicit `PKG_CONFIG_PATH` in your BASH `.profile` per, for example, X11 installation:

```
export PKG_CONFIG_PATH=/opt/X11/lib/pkgconfig
```

### Install

```
npm install
```

# Run SuiteC

```
node app
```

### Canvas synchronization

By default, SuiteC will poll the Canvas API for any new activities that are included in the
engagement index. Whether polling should be enabled and how often it should run can be configured
in the `canvasPoller` section of the configuration file.

Configure a Canvas API key for a user, preferably a global Canvas administrator, that is able to list the:
 - users
 - assignments *and* all their submissions
 - discussion

### Production build

The production build will:
 - Concatenate and revision all vendor files (AngularJS, Bootstrap, etc.)
 - Concatenate and revision all application JavaScript files
 - Concatenate and revision all CSS files
 - Concatenate and revision all HTML fragments
 - Optimize and revision images
 - Replace all references to any changed assets in the `index.html` file.

A build can be generated by running `gulp build`.
